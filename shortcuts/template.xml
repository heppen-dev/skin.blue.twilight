<?xml version="1.0" encoding="UTF-8"?>
<template>
  <submenu include="widgetsWall" name="widgets">
    <controls>
        <skinshortcuts insert="wall">items</skinshortcuts>
    </controls>
    <items insert="wall">
      <condition tag="property" attribute="name|path" />
      <condition tag="property" attribute="name|list"/>
      <property name="id" tag="mainmenuid"/>
      <property name="path" tag="property" attribute="name|list"/>
      <property name="sortby" tag="property" attribute="name|widgetSortBy"/>
      <property name="sortdirection" tag="property" attribute="name|widgetSortDirection"/>
      <property name="limit" tag="property" attribute="name|widgetLimit"/>
      <property name="aspect" tag="property" attribute="name|widgetAspect"/>
      <property name="aspect">Poster</property>
      <propertyGroup>mainmenuWidgets</propertyGroup>
      <controls>
        <include content="Object_Widget_Content">
          <param name="controltype" value="list"/>
          <param name="name" value="$SKINSHORTCUTS[label]"/>
          <param name="groupid" value="760$SKINSHORTCUTS[id]"/>
          <param name="image" value="$SKINSHORTCUTS[artwork]"/>
          <param name="id" value="750$SKINSHORTCUTS[id]"/>
          <param name="target" value="$SKINSHORTCUTS[target]"/>
          <param name="sortby" value="$SKINSHORTCUTS[sortby]"/>
          <param name="sortdirection" value="$SKINSHORTCUTS[sortdirection]"/>
          <param name="limit" value="$SKINSHORTCUTS[limit]"/>
          <param name="path" value="$SKINSHORTCUTS[path]"/>
          <param name="postercondition" value="true"/>
        </include>
      </controls>
    </items>
  </submenu>
  <other>
    <controls>
      <description>This is a fake template which is needed to trick Skin Shortcuts into building the submenuOther templates</description>
    </controls>
  </other>  
  <other include="localWidget">
    <condition tag="property" attribute="name|widgetPath.1"/>
    <property name="id" tag="mainmenuid"/>
    <property name="path" tag="property" attribute="name|widgetPath.1"/>
    <property name="sortby" tag="property" attribute="name|widgetSortBy"/>
    <property name="sortdirection" tag="property" attribute="name|widgetSortDirection"/>
    <property name="limit" tag="property" attribute="name|widgetLimit"/>
    <property name="aspect" tag="property" attribute="name|widgetAspect"/>
    <property name="aspect">Poster</property>
    <propertyGroup>mainmenuWidgets</propertyGroup>
    <controls>
      <include content="Object_LocalWidget_Content">
        <param name="controltype" value="list"/>
        <param name="name" value="$SKINSHORTCUTS[label]"/>
        <param name="groupid" value="660$SKINSHORTCUTS[id]"/>
        <param name="image" value="$SKINSHORTCUTS[artwork]"/>
        <param name="id" value="650$SKINSHORTCUTS[id]"/>
        <param name="target" value="$SKINSHORTCUTS[target]"/>
        <param name="sortby" value="$SKINSHORTCUTS[sortby]"/>
        <param name="sortdirection" value="$SKINSHORTCUTS[sortdirection]"/>
        <param name="limit" value="$SKINSHORTCUTS[limit]"/>
        <param name="path" value="$SKINSHORTCUTS[path]"/>
        <param name="postercondition" value="true"/>
        <skinshortcuts>visibility</skinshortcuts>
      </include>
    </controls>
  </other>
  <propertyGroup name="mainmenuWidgets">
    <property name="id" tag="mainmenuid"/>
    <property name="name" tag="property" attribute="name|widgetName"/>
    <!-- <property name="path" tag="property" attribute="name|path" /> -->
    <property name="target" tag="property" attribute="name|widgetTarget"/>
    <property name="target">
    </property>
    <!-- <property name="path">$INCLUDE[skinshortcuts-group-$SKINSHORTCUTS[submenuVisibility]]</property> -->
    <!-- For TV Shows, we want to specify the artwork as the tv show poster, otherwise we'll use the icon -->
    <property name="artwork" tag="property" attribute="name|widgetType" value="tvshows">$INFO[ListItem.Art(tvshow.poster)]</property>
    <property name="artwork">$VAR[ImagePoster]</property>
    <property name="widgetInclude" tag="property" attribute="name|path">Object_Widget_Content</property>
    <property name="submenuVisibility" tag="property" attribute="name|submenuVisibility"/>
    <property name="label" tag="label"/>
    <property name="label">$INFO[ListItem.Label]</property>
    <property name="background" tag="property" attribute="name|background"/>
  </propertyGroup>
</template>
